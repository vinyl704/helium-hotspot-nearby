(this["webpackJsonphelium-hotspot-nearby"]=this["webpackJsonphelium-hotspot-nearby"]||[]).push([[0],{80:function(e,t,n){},82:function(e,t,n){},90:function(e,t,n){"use strict";n.r(t);var a=n(0),c=n.n(a),s=n(26),i=n.n(s),r=(n(80),n(39)),o=n.n(r),l=n(45),u=n(18),d=(n(82),n(1)),j=function(e){var t=Object(a.useState)([]),n=Object(u.a)(t,2),c=n[0],s=n[1],i=function(){var t=Object(l.a)(o.a.mark((function t(){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch("https://api.helium.io/v1/hotspots/".concat(e.a,"/rewards/sum?min_time=-").concat(e.timeFrame,"%20day"),{mode:"cors"}).then((function(e){return e.json()})).then((function(e){e.data.total?s(e.data.total.toFixed(5)):s(0)}));case 2:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return Object(a.useEffect)((function(){i()}),[s,e.a,e.timeFrame]),Object(d.jsxs)("li",{onClick:i,children:[Object(d.jsx)("span",{id:"rw",children:c})," HNT in the last ",Object(d.jsx)("span",{className:"timeframe",children:e.timeFrame})," day(s)"]})},b=function(e){var t=e.dist,n=3*t/5280;return"".concat(("miles"==measurement.value?n:t).toFixed(2)," ").concat(measurement.value," away")},m=n(103),h=n(102);var O=function(){var e=Object(a.useState)(""),t=Object(u.a)(e,2),n=t[0],c=t[1],s=Object(a.useState)(""),i=Object(u.a)(s,2),r=i[0],O=i[1],f=Object(a.useState)([]),p=Object(u.a)(f,2),x=p[0],v=p[1],g=Object(a.useState)(1e4),y=Object(u.a)(g,2),w=y[0],F=y[1],S=Object(a.useState)("1"),C=Object(u.a)(S,2),L=C[0],N=C[1],k=Object(a.useState)("meters"),D=Object(u.a)(k,2),T=D[0],M=D[1],E=3*w/5280;Object(a.useEffect)((function(){var e=function(){var e=Object(l.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(window.navigator.geolocation.getCurrentPosition((function(e){var t=e.coords.latitude,n=e.coords.longitude;c(t),O(n)})),""===n||""===r){e.next=4;break}return e.next=4,fetch("https://api.helium.io/v1/hotspots/location/distance?lat=".concat(n,"&lon=").concat(r,"&distance=").concat(w),{mode:"cors"}).then((function(e){return e.json()})).then((function(e){var t=e.data;v(t)}));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e()}),[v,n,r,w]);var H=[];x&&(H=x.map((function(e,t){return Object(d.jsxs)("ul",{className:"spots",style:{listStyleType:"none",display:"flex",flexDirection:"column",margin:20},children:[Object(d.jsx)("li",{children:Object(d.jsx)("strong",{children:e.name})}),Object(d.jsx)("li",{className:"addy",children:e.address}),Object(d.jsxs)("li",{children:["Street Name: ",e.geocode.long_street]}),Object(d.jsxs)("li",{children:["City: ",e.geocode.long_city]}),Object(d.jsxs)("li",{children:["Reward Scale: ",e.reward_scale]}),Object(d.jsx)(b,{dist:e.distance,oLat:n,oLong:r,destLat:e.lat,destLong:e.lng}),Object(d.jsx)(j,{a:e.address,timeFrame:L})]},t)})));var _=function(){return"meters"==T?w:E};return Object(d.jsxs)("div",{className:"App",children:[Object(d.jsx)("div",{className:"bg"}),Object(d.jsx)("h1",{children:"Hotspots near you"}),Object(d.jsxs)("p",{children:["There are ",Object(d.jsx)("span",{className:"distance",children:H.length})," Helium Hotspots within ",Object(d.jsx)("br",{}),_()," ",T," of your location"]}),Object(d.jsx)("input",{name:"distance",type:"number",placeholder:_(),value:_(),id:"distance",onChange:function(e){F("meters"==T?e.target.value:5280*e.target.value/3)},min:"1"}),Object(d.jsx)("label",{id:"distLabel",for:"distance",children:T.charAt(0).toUpperCase()+T.substr(1)}),Object(d.jsxs)("select",{name:"timeFrame",id:"timeFrame",onChange:function(e){setTimeout((function(){N(e.target.value)}),2e3)},children:[Object(d.jsx)("option",{value:"1",children:"1 Day"}),Object(d.jsx)("option",{value:"7",children:"7 Days"}),Object(d.jsx)("option",{value:"30",children:"30 Days"})]}),Object(d.jsx)("label",{id:"timeLabel",for:"timeFrame",children:"Rewards Duration"}),Object(d.jsxs)("select",{name:"measurement",id:"measurement",onChange:function(e){M(e.target.value),"meters"==e.target.value||(document.getElementById("distance").placeholder=E),F(w)},children:[Object(d.jsx)("option",{value:"miles",children:"Miles"}),Object(d.jsx)("option",{selected:!0,value:"meters",children:"Meters"})]}),Object(d.jsx)("label",{for:"measurement",id:"measurementLabel",children:"Miles or Meters"}),"undefined"!=H?Object(d.jsx)("ul",{children:H}):Object(d.jsx)("div",{children:Object(d.jsx)(m.a,{active:!0,children:Object(d.jsx)(h.a,{active:!0,children:"Loading"})})})]})},f=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,104)).then((function(t){var n=t.getCLS,a=t.getFID,c=t.getFCP,s=t.getLCP,i=t.getTTFB;n(e),a(e),c(e),s(e),i(e)}))};i.a.render(Object(d.jsx)(c.a.StrictMode,{children:Object(d.jsx)(O,{})}),document.getElementById("root")),f()}},[[90,1,2]]]);
//# sourceMappingURL=main.fbc39dd8.chunk.js.map