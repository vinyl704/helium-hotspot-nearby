(this["webpackJsonphelium-hotspot-nearby"]=this["webpackJsonphelium-hotspot-nearby"]||[]).push([[0],{80:function(e,t,n){},82:function(e,t,n){},90:function(e,t,n){"use strict";n.r(t);var c=n(0),a=n.n(c),s=n(26),r=n.n(s),i=(n(80),n(39)),o=n.n(i),l=n(45),u=n(18),j=(n(82),n(1)),d=function(e){var t=Object(c.useState)([]),n=Object(u.a)(t,2),a=n[0],s=n[1],r=function(){var t=Object(l.a)(o.a.mark((function t(){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:fetch("https://api.helium.io/v1/hotspots/".concat(e.a,"/rewards/sum?min_time=-").concat(e.timeFrame,"%20day"),{mode:"cors"}).then((function(e){return e.json()})).then((function(e){s(e.data.total.toFixed(5))}));case 1:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return r(),Object(j.jsxs)("li",{children:[Object(j.jsx)("span",{id:"rw",children:a})," HNT in the last ",Object(j.jsx)("span",{className:"timeframe",children:e.timeFrame})," day(s)"]})},b=function(e){var t=e.dist,n=3*t/5280;return"".concat(("miles"==measurement.value?n:t).toFixed(2)," ").concat(measurement.value," away")},h=n(103),m=n(102);var O=function(){var e=Object(c.useState)(""),t=Object(u.a)(e,2),n=t[0],a=t[1],s=Object(c.useState)(""),r=Object(u.a)(s,2),i=r[0],O=r[1],p=Object(c.useState)([]),f=Object(u.a)(p,2),x=f[0],v=f[1],g=Object(c.useState)([1e4]),y=Object(u.a)(g,2),w=y[0],F=y[1],S=Object(c.useState)("1"),C=Object(u.a)(S,2),L=C[0],N=C[1],D=Object(c.useState)("meters"),k=Object(u.a)(D,2),M=k[0],T=k[1],H=3*w/5280;Object(c.useEffect)((function(){var e=function(){var e=Object(l.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(window.navigator.geolocation.getCurrentPosition((function(e){var t=e.coords.latitude,n=e.coords.longitude;a(t),O(n)})),console.log(M),""===n||""===i){e.next=5;break}return e.next=5,fetch("https://api.helium.io/v1/hotspots/location/distance?lat=".concat(n,"&lon=").concat(i,"&distance=").concat(w),{mode:"cors"}).then((function(e){return e.json()})).then((function(e){var t=e.data;v(t)}));case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e()}),[n,i,w]),console.log(M);var _=x.map((function(e,t){return Object(j.jsxs)("ul",{className:"spots",style:{listStyleType:"none",display:"flex",flexDirection:"column",margin:20},children:[Object(j.jsx)("li",{children:Object(j.jsx)("strong",{children:e.name})}),Object(j.jsx)("li",{className:"addy",children:e.address}),Object(j.jsxs)("li",{children:["Street Name: ",e.geocode.long_street]}),Object(j.jsxs)("li",{children:["City: ",e.geocode.long_city]}),Object(j.jsxs)("li",{children:["Reward Scale: ",e.reward_scale]}),Object(j.jsx)(b,{dist:e.distance,oLat:n,oLong:i,destLat:e.lat,destLong:e.lng}),Object(j.jsx)(d,{a:e.address,timeFrame:L})]},t)}));function P(){return"meters"==M?w:H}return Object(j.jsxs)("div",{className:"App",children:[Object(j.jsx)("div",{className:"bg"}),Object(j.jsx)("h1",{children:"Hotspots near you"}),Object(j.jsxs)("p",{children:["There are ",Object(j.jsx)("span",{className:"distance",children:_.length||0})," Helium Hotspots within ",Object(j.jsx)("br",{}),P()," ",M," of your location"]}),Object(j.jsx)("input",{name:"distance",type:"number",placeholder:P(),id:"distance",onChange:function(e){F("meters"==M?e.target.value:5280*e.target.value/3)}}),Object(j.jsx)("label",{id:"distLabel",for:"distance",children:M.charAt(0).toUpperCase()+M.substr(1)}),Object(j.jsxs)("select",{name:"timeFrame",id:"timeFrame",onChange:function(e){N(e.target.value)},children:[Object(j.jsx)("option",{value:"1",children:"1 Day"}),Object(j.jsx)("option",{value:"7",children:"7 Days"}),Object(j.jsx)("option",{value:"30",children:"30 Days"})]}),Object(j.jsx)("label",{id:"timeLabel",for:"timeFrame",children:"Rewards Duration"}),Object(j.jsxs)("select",{name:"measurement",id:"measurement",onChange:function(e){return T(e.target.value),"meters"==e.target.value?w:(F(w),H)},children:[Object(j.jsx)("option",{value:"miles",children:"Miles"}),Object(j.jsx)("option",{selected:!0,value:"meters",children:"Meters"})]}),Object(j.jsx)("label",{for:"measurement",id:"measurementLabel",children:"Miles or Meters"}),"undefined"!=_?Object(j.jsx)("ul",{children:_}):Object(j.jsx)("div",{children:Object(j.jsx)(h.a,{active:!0,children:Object(j.jsx)(m.a,{})})})]})},p=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,104)).then((function(t){var n=t.getCLS,c=t.getFID,a=t.getFCP,s=t.getLCP,r=t.getTTFB;n(e),c(e),a(e),s(e),r(e)}))};r.a.render(Object(j.jsx)(a.a.StrictMode,{children:Object(j.jsx)(O,{})}),document.getElementById("root")),p()}},[[90,1,2]]]);
//# sourceMappingURL=main.f181d780.chunk.js.map