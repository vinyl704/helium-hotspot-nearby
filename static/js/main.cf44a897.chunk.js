(this["webpackJsonphelium-hotspot-nearby"]=this["webpackJsonphelium-hotspot-nearby"]||[]).push([[0],{11:function(e,t,n){},13:function(e,t,n){},15:function(e,t,n){"use strict";n.r(t);var a=n(1),c=n.n(a),s=n(6),i=n.n(s),o=(n(11),n(3)),r=n.n(o),l=n(4),u=n(2),d=(n(13),n(0)),j=function(e){var t=Object(a.useState)([]),n=Object(u.a)(t,2),c=n[0],s=n[1],i=function(){var t=Object(l.a)(r.a.mark((function t(){return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:fetch("https://api.helium.io/v1/hotspots/".concat(e.a,"/rewards/sum?min_time=-").concat(e.timeFrame,"%20day"),{mode:"cors"}).then((function(e){return e.json()})).then((function(e){s(e.data.total)}));case 1:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return i(),Object(d.jsxs)("li",{children:[c," HNT in the last ",Object(d.jsx)("span",{className:"timeframe",children:e.timeFrame})," day(s)"]})},h=function(e){var t=e.oLat/(180/Math.PI),n=e.oLong/(180/Math.PI),a=e.destLong/(180/Math.PI),c=e.destLat/(180/Math.PI),s=3963*Math.acos(Math.sin(t)*Math.sin(c)+Math.cos(t)*Math.cos(c)*Math.cos(a-n));return Object(d.jsxs)("p",{children:[s.toFixed(3)," Miles from you"]})};var b=function(){var e=Object(a.useState)([]),t=Object(u.a)(e,2),n=t[0],c=t[1],s=Object(a.useState)([]),i=Object(u.a)(s,2),o=i[0],b=i[1],m=Object(a.useState)([]),O=Object(u.a)(m,2),p=O[0],f=O[1],x=Object(a.useState)([1e4]),g=Object(u.a)(x,2),v=g[0],y=g[1],M=Object(a.useState)("1"),L=Object(u.a)(M,2),w=L[0],F=L[1];Object(a.useEffect)((function(){var e=function(){var e=Object(l.a)(r.a.mark((function e(){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(navigator.geolocation.getCurrentPosition((function(e){c(e.coords.latitude),b(e.coords.longitude)})),void 0==n||void 0==o||!distance){e.next=4;break}return e.next=4,fetch("https://api.helium.io/v1/hotspots/location/distance?lat=".concat(n,"&lon=").concat(o,"&distance=").concat(v),{mode:"cors"}).then((function(e){return e.json()})).then((function(e){f(e.data)}));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e()}),[n,o,v]);var S=p.map((function(e){return Object(d.jsxs)("ul",{className:"spots",style:{listStyleType:"none",display:"flex",flexDirection:"column",margin:20},children:[console.log(n,o),Object(d.jsx)("li",{children:Object(d.jsx)("strong",{children:e.name})}),Object(d.jsx)("li",{className:"addy",children:e.address}),Object(d.jsxs)("li",{children:["Street Name: ",e.geocode.long_street]}),Object(d.jsxs)("li",{children:["City: ",e.geocode.long_city]}),Object(d.jsxs)("li",{children:["Reward Scale: ",e.reward_scale]}),Object(d.jsx)(h,{oLat:n,oLong:o,destLat:e.lat,destLong:e.lng}),Object(d.jsx)(j,{a:e.address,timeFrame:w})]})}));return Object(d.jsxs)("div",{className:"App",children:[Object(d.jsx)("div",{className:"bg"}),Object(d.jsx)("h1",{children:"Hotspots near you"}),Object(d.jsxs)("p",{children:["There are ",Object(d.jsx)("span",{className:"distance",children:S.length})," Helium Hotspots within ",Object(d.jsx)("br",{}),v," meters of your location"]}),Object(d.jsx)("input",{name:"distance",type:"number",placeholder:"10000",id:"distance",onChange:function(e){y(e.target.value)}}),Object(d.jsx)("label",{id:"distLabel",for:"distance",children:"Meters"}),Object(d.jsxs)("select",{name:"timeFrame",id:"timeFrame",onChange:function(e){F(e.target.value)},children:[Object(d.jsx)("option",{value:"1",children:"1 Day"}),Object(d.jsx)("option",{value:"7",children:"7 Days"}),Object(d.jsx)("option",{value:"30",children:"30 Days"})]}),Object(d.jsx)("label",{id:"timeLabel",for:"timeFrame",children:"Rewards Duration"}),Object(d.jsx)("ul",{children:S})]})},m=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,16)).then((function(t){var n=t.getCLS,a=t.getFID,c=t.getFCP,s=t.getLCP,i=t.getTTFB;n(e),a(e),c(e),s(e),i(e)}))};i.a.render(Object(d.jsx)(c.a.StrictMode,{children:Object(d.jsx)(b,{})}),document.getElementById("root")),m()}},[[15,1,2]]]);
//# sourceMappingURL=main.cf44a897.chunk.js.map