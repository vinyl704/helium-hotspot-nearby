(this["webpackJsonphelium-hotspot-nearby"]=this["webpackJsonphelium-hotspot-nearby"]||[]).push([[0],{11:function(e,t,n){},13:function(e,t,n){},15:function(e,t,n){"use strict";n.r(t);var c=n(1),a=n.n(c),s=n(6),i=n.n(s),r=(n(11),n(3)),o=n.n(r),l=n(4),u=n(2),j=(n(13),n(0)),d=function(e){var t=Object(c.useState)([]),n=Object(u.a)(t,2),a=n[0],s=n[1],i=function(){var t=Object(l.a)(o.a.mark((function t(){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:fetch("https://api.helium.io/v1/hotspots/".concat(e.a,"/rewards/sum?min_time=-").concat(e.timeFrame,"%20day"),{mode:"cors"}).then((function(e){return e.json()})).then((function(e){s(e.data.total)}));case 1:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return i(),Object(j.jsxs)("li",{children:[a," HNT in the last ",Object(j.jsx)("span",{className:"timeframe",children:e.timeFrame})," day(s)"]})};var h=function(){var e=Object(c.useState)([]),t=Object(u.a)(e,2),n=t[0],a=t[1],s=Object(c.useState)([]),i=Object(u.a)(s,2),r=i[0],h=i[1],b=Object(c.useState)([]),m=Object(u.a)(b,2),p=m[0],O=m[1],f=Object(c.useState)([1e4]),x=Object(u.a)(f,2),g=x[0],v=x[1],y=Object(c.useState)("1"),S=Object(u.a)(y,2),w=S[0],F=S[1];Object(c.useEffect)((function(){var e=function(){var e=Object(l.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return navigator.geolocation.getCurrentPosition((function(e){a(e.coords.latitude),h(e.coords.longitude)})),e.next=3,fetch("https://api.helium.io/v1/hotspots/location/distance?lat=".concat(n,"&lon=").concat(r,"&distance=").concat(g),{mode:"cors"}).then((function(e){return e.json()})).then((function(e){O(e.data)}));case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e()}),[n,r,g]);var N=p.map((function(e){return Object(j.jsxs)("ul",{className:"spots",style:{listStyleType:"none",display:"flex",flexDirection:"column",margin:20},children:[Object(j.jsx)("li",{children:Object(j.jsx)("strong",{children:e.name})}),Object(j.jsx)("li",{className:"addy",children:e.address}),Object(j.jsxs)("li",{children:["Street Name: ",e.geocode.long_street]}),Object(j.jsxs)("li",{children:["City: ",e.geocode.long_city]}),Object(j.jsxs)("li",{children:["Reward Scale: ",e.reward_scale]}),Object(j.jsx)(d,{a:e.address,timeFrame:w})]})}));return Object(j.jsxs)("div",{className:"App",children:[Object(j.jsx)("div",{className:"bg"}),Object(j.jsx)("h1",{children:"Hotspots near you"}),Object(j.jsxs)("p",{children:["There are ",Object(j.jsx)("span",{className:"distance",children:N.length})," Helium Hotspots within ",Object(j.jsx)("br",{}),g," meters of your location"]}),Object(j.jsx)("input",{type:"number",placeholder:"10000",id:"distance",onChange:function(e){v(e.target.value)}}),Object(j.jsxs)("select",{name:"timeFrame",id:"timeFrame",onChange:function(e){F(e.target.value)},children:[Object(j.jsx)("option",{value:"1",children:"1 Day"}),Object(j.jsx)("option",{value:"7",children:"1 Week"}),Object(j.jsx)("option",{value:"30",children:"1 Month"})]}),Object(j.jsx)("ul",{children:N})]})},b=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,16)).then((function(t){var n=t.getCLS,c=t.getFID,a=t.getFCP,s=t.getLCP,i=t.getTTFB;n(e),c(e),a(e),s(e),i(e)}))};i.a.render(Object(j.jsx)(a.a.StrictMode,{children:Object(j.jsx)(h,{})}),document.getElementById("root")),b()}},[[15,1,2]]]);
//# sourceMappingURL=main.aa319d2b.chunk.js.map